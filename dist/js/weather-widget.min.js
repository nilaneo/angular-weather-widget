!function(){function a(a){return new Date(a).toString().match(/^\w*/)[0]}function b(a){return o[a]}function c(a,b){o[a]=b}function d(a){return $.get(a).then(function(a){return a})}function e(a){var b=d(a);return c(a,b),b}function f(a){var c=a.templateUrl;return b(c)||e(c)}function g(b){return{day:a(1e3*b.dt),minTemp:b.temp.min,maxTemp:b.temp.max,dayTemp:b.temp.day,iconClass:i(b.weather[0].icon)}}function h(a){return{cityName:a.city.name,forecast:a.list.map(g)}}function i(a){switch(a){case"01d":case"01n":return"ww-icon-clear-sky";case"02d":case"02n":return"ww-icon-few-clouds";case"03d":case"03n":return"ww-icon-scattered-clouds";case"04d":case"04n":return"ww-icon-broken-clouds ";case"09d":case"09n":return"ww-icon-shower-rain ";case"10d":case"10n":return"ww-icon-rain";case"11d":case"11n":return"ww-icon-thunderstorm";case"13d":case"13n":return"ww-icon-snow";case"50d":case"50n":return"ww-icon-mist";default:return""}}function j(a){return $.get("http://api.openweathermap.org/data/2.5/forecast/daily",{q:a.city,units:"metric",cnt:7}).then(h)}function k(a){return $.when(j(a),f(a))}function l(a,b){return Mustache.render(b,a)}function m(a,b){k(b).then(l).then(function(b){a.html(b)})}var n={city:"Kiev",templateUrl:"/dist/templates/weather-widget.tpl.min.html"},o={};$.fn.weatherWidget=function(a){var b=$.extend({},n,a);m(this,b)}}();